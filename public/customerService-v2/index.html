<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>clink</title>
</head>
<body>
  <button id="btn1">open customer service</button>
  <button id="btn2" style="display: none">send product</button>
  <button id="btn3" style="display: none">send order</button>
</body>
<script src="https://webchat-bj.clink.cn/clink-chat-api.js"></script>
<script>

  const link = `https://webchat-sh.clink.cn/webchat.js` // The script link used for the customer service plugin, please set it in the configuration file
  const accessId= 'dfbf33f6-5f4e-4b30-b08d-6a4ce2ab3196'
  document.getElementById('btn1').onclick = () => {
      ClinkChatWeb.openSessionWindow()
  }
  document.getElementById('btn2').onclick = () => {
      ClinkChatWeb.openSessionWindow()
      ClinkChatWeb.sendVisitorMsg({
          type: 'text',
          content: 'I want to inquire about this product'
      })
  }
  function initSdk (win, doc, src, opt) {
      win[opt] = win[opt] || function () {
          win[opt].options = arguments[0]
      };
      var script = doc.createElement("script");
      script.async = 1;
      script.src = src;
      doc.body.appendChild(script);

      clinkWebchatOptions({
          accessId: accessId, // The accessId used by the customer service plugin, please set it in the configuration file
          visitorId: "0004", // userInfo.id; If not logged in, ignore it
          visitorName: "用户名称", // userInfo.username; If not logged in, ignore it
          tel: "15113991232", // userInfo.mobileArea + userInfo.mobile; If not logged in, ignore it
          replyWelcome: "welcome to wooha", // Welcome message after the user opens the customer service pop-up
          headerDisplay: "1", // Do not display when the value equals "0"
          visitorTag: "", // At most three characters can be displayed to mark the user
          language: "zh_CN",  // CN:zh_CN  CN-TR:zh_TW  EN:en_US
          // customerFields: encodeURIComponent(JSON.stringify({
          //     yourNumberCustomerField: 0,
          //     yourStringCustomerField: "stringValue",
          //     autoUpdate: 1
          // })),
          customerFields: encodeURIComponent(JSON.stringify({
              '客户名称':'xby1',
              '邮箱': '120754441@qq.com',
              // '电话': '+86 15113992813',
              '备注': '用户id: 123',
                  autoUpdate: 1
          })),
          // customFields: {
          //     'name':'xby',
          //     'email': '12075444@qq.com',
          //     autoUpdate: 1
          // },
          // visitorExtraInfo: encodeURIComponent(JSON.stringify({
          //     yourNumberCustomerField: 0,
          //     yourStringCustomerField: "stringValue",
          // })),
      });
  }

  initSdk(window, document, `${link}?v=`+Date.now(), 'clinkWebchatOptions')


</script>

</html>